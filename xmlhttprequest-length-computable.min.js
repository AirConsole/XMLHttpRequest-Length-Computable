(function(){var f={CONTENT_ENCODING_MULTIPLE:1.5,DEFAULT_CONTENT_LENGTH:102400,DECOMPRESSED_CONTENT_LENGTH_HEADER:"x-decompressed-content-length"};if(window.Proxy){var n=XMLHttpRequest,m=function(a,c){var b=0;return function(d){if("progress"==d.type&&0==d.lengthComputable){var e=d;d=new Proxy(d,{get:function(c,d){if("lengthComputable"==d)return!0;if("total"==d){try{if(e.lengthComputable)return e.total-1;if(a["decompressed-content-length"])return Math.max(a["decompressed-content-length"],e.loaded)-
1;var k=e.target.getResponseHeader(a.DECOMPRESSED_CONTENT_LENGTH_HEADER);if(void 0!=k)return Math.max(k,e.loaded)-1;if(!b){var h=e.target.getResponseHeader("content-length");if(h){var l=e.target.getResponseHeader("content-encoding");b=l&&"identity"!=l?h*a.CONTENT_ENCODING_MULTIPLE:h}else b=a.DEFAULT_CONTENT_LENGTH}}catch(q){return e.total-1}for(;e.loaded>=b;)b*=2;return b}return c[d]}})}c(d)}},p={set:function(a,c,b){"onprogress"==c?(a[c]=m(a.xmlHTTPRequestLengthComputable,b),a.xmlHTTPRequestLengthComputable.onprogress=
b):a[c]=b;return!0},get:function(a,c){return"addEventListener"==c?function(){if("progress"==arguments[0]){var b=m(a.xmlHTTPRequestLengthComputable,arguments[1]);a.xmlHTTPRequestLengthComputable.progress_listeners.push([b,arguments[1]]);return a[c].call(a,arguments[0],b,arguments[2],arguments[3])}return a[c].apply(a,arguments)}:"removeEventListener"==c?function(){if("progress"==arguments[0])for(var b=a.xmlHTTPRequestLengthComputable.progress_listeners,d=0;d<b.length;++d){if(b[d][1]==arguments[1])return b=
b.splice(d)[0],a[c].call(a,arguments[0],b[0],arguments[2],arguments[3])}else return a[c].apply(a,arguments)}:"function"==typeof a[c]?function(){return a[c].apply(a,arguments)}:a[c]},deleteProperty:function(a,c){"onprogress"==c&&delete a.xmlHTTPRequestLengthComputable.onprogress;delete a[c]}};window.XMLHttpRequest=function(a){var c=new n(a),b=new Proxy(c,p),d=f;a&&a.xmlHTTPRequestLengthComputable&&(d=a.xmlHTTPRequestLengthComputable);var e={};for(var g in f)e[g]=d[g]||f[g];d["decompressed-content-length"]&&
(e["decompressed-content-length"]=d["decompressed-content-length"]);e.progress_listeners=[];c.addEventListener("load",function(a){var c=a;a=new Proxy(a,{get:function(a,b){return"lengthComputable"==b?!0:"total"==b||"loaded"==b?c.loaded||1:"type"==b?"progress":a[b]}});if(e.onprogress)e.onprogress(a);for(var b=0;b<e.progress_listeners.length;++b)if(e.progress_listeners[b][1])e.progress_listeners[b][1](a)});e.xmlhttprequest=c;b.xmlHTTPRequestLengthComputable=e;return b}}})();