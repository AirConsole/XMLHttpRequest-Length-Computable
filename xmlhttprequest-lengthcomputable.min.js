(function(){var f={CONTENT_ENCODING_MULTIPLE:1.5,DEFAULT_CONTENT_LENGTH:102400,DECOMPRESSED_CONTENT_LENGTH_HEADER:"x-decompressed-content-length"};if(window.Proxy){var k=XMLHttpRequest,g=function(a,b){var c=0;return function(d){if("progress"==d.type&&0==d.lengthComputable){var e=d;d=new Proxy(d,{get:function(b,d){if("lengthComputable"==d)return!0;if("total"==d){try{if(e.lengthComputable)return e.total;if(a["decompressed-content-length"])return a["decompressed-content-length"];var f=e.target.getResponseHeader(a.DECOMPRESSED_CONTENT_LENGTH_HEADER);
if(void 0!=f)return f;if(!c){var h=e.target.getResponseHeader("content-length");if(h){var g=e.target.getResponseHeader("content-encoding");c=g&&"identity"!=g?h*a.CONTENT_ENCODING_MULTIPLE:h}else c=a.DEFAULT_CONTENT_LENGTH}}catch(m){return e.total}for(;e.loaded>c;)c*=2;return c}return b[d]}})}b(d)}},l={set:function(a,b,c){a[b]="onprogress"==b?g(a.xmlHTTPRequestLengthComputable,c):c;return!0},get:function(a,b){return"addEventListener"==b?function(){if("progress"==arguments[0]){var c=g(a.xmlHTTPRequestLengthComputable,
arguments[1]);a[b].call(a,arguments[0],c,arguments[2],arguments[3]);a.xmlHTTPRequestLengthComputable.progress_listeners.push([c,arguments[1]])}else a[b].apply(a,arguments)}:"removeEventListener"==b?function(){if("progress"==arguments[0])for(var c=a.xmlHTTPRequestLengthComputable.progress_listeners,d=0;d<c.length;++d){if(c[d][1]==arguments[1]){a[b].call(a,arguments[0],c[d][0],arguments[2],arguments[3]);c.splice(d);break}}else a[b].apply(a,arguments)}:"function"==typeof a[b]?function(){a[b].apply(a,
arguments)}:a[b]}};window.XMLHttpRequest=function(a){var b=new Proxy(new k(a),l);if(a&&a.xmlHTTPRequestLengthComputable)if(a=a.xmlHTTPRequestLengthComputable,void 0!==a["decompressed-content-length"])b.xmlHTTPRequestLengthComputable={"decompressed-content-length":a["decompressed-content-length"]};else{b.xmlHTTPRequestLengthComputable={};for(var c in f)b.xmlHTTPRequestLengthComputable[c]=a[c]||f[c]}else b.xmlHTTPRequestLengthComputable=f;b.xmlHTTPRequestLengthComputable.progress_listeners=[];return b}}})();